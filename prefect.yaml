# Prefect Deployment Configuration
name: perfect
prefect-version: 3.4.1

# Pull step - tells Prefect how to retrieve the flow code from GitHub
pull:
- prefect.deployments.steps.git_clone:
    id: clone-step
    repository: https://github.com/galacoder/perfect.git
    branch: main
- prefect.deployments.steps.set_working_directory:
    directory: "{{ steps.clone-step.directory }}"

# Build, push, and pull are optional
build: null
push: null

# Deployments configuration
deployments:
- name: christmas-signup-handler
  entrypoint: campaigns/christmas_campaign/flows/signup_handler.py:signup_handler_flow
  work_pool:
    name: default
  schedule: null
  parameters: {}
  tags:
  - christmas
  - christmas-2025
  - email-nurture
  description: Christmas Campaign signup handler - creates email sequence for new signups
  version: 1.0.0

- name: christmas-send-email
  entrypoint: campaigns/christmas_campaign/flows/send_email_flow.py:send_email_flow
  work_pool:
    name: default
  schedule: null
  parameters: {}
  tags:
  - christmas
  - christmas-2025
  - email-nurture
  description: Christmas Campaign individual email sender - sends single email in 7-email sequence
  version: 1.0.0
